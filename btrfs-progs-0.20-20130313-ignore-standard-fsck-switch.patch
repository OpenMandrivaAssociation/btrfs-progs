--- btrfs-progs-0.20/cmds-check.c~	2013-04-01 06:15:39.354023623 +0200
+++ btrfs-progs-0.20/cmds-check.c	2013-04-01 06:15:41.130715444 +0200
@@ -3535,6 +3535,9 @@ static struct option long_options[] = {
 	{ "repair", 0, NULL, 0 },
 	{ "init-csum-tree", 0, NULL, 0 },
 	{ "init-extent-tree", 0, NULL, 0 },
+	{ "auto", 0, NULL, 'a' },
+	{ "force", 0, NULL, 'f' },
+	{ "yes", 0, NULL, 'y' },
 	{ 0, 0, 0, 0}
 };
 
@@ -3566,12 +3569,15 @@ int cmd_check(int argc, char **argv)
 
 	while(1) {
 		int c;
-		c = getopt_long(argc, argv, "as:", long_options,
+		c = getopt_long(argc, argv, "afys:", long_options,
 				&option_index);
 		if (c < 0)
 			break;
 		switch(c) {
-			case 'a': /* ignored */ break;
+			case 'a': /* ignored */
+			case 'f':
+			case 'y':
+				break;
 			case 's':
 				num = atol(optarg);
 				bytenr = btrfs_sb_offset(num);
